---
name: report
description: |
  분석 결과 → 한글 리포트 생성 (1위 확률 중심 해석).

  핵심 철학:
  - 1위 아니면 의미 없음 (2위=미달=0원)
  - 미달 리스크 무시 (다음 기회)
  - 경쟁 밀도 역수 = 1위 확률
  - 기초대비사정율-투찰율 동시 표시

  입력: analysis_*.json (logic skill 출력)
  출력:
  - report_*.md (1위 확률 중심 한글 리포트)
  - heatmap_*.png (경쟁 밀도 시각화)

  리포트 구조:
  1. 공고 정보
  2. 몬테카를로 시뮬레이션 (예정가 분포)
  3. 과거 1위 분석 (참고)
  4. 경쟁 밀도 분석 (핵심!)
  5. 소수점/끝자리 패턴
  6. 하한가 미달 분석 (무시 확인)
  7. 사정율-투찰율 상관관계
  8. 최적 입찰률 3개 (1위 확률 비교)

  Use when: 분석 완료 후 결과 확인
---

# 입찰 분석 리포트 생성

## ⚠️ 이 문서는 분석 결과 해석 방법입니다

> **1위 확률 = 경쟁 밀도 역수**
>
> 경쟁자 44명 → 1위 확률 2.27%
> 경쟁자 358명 → 1위 확률 0.28%
> (8배 차이!)

---

## 1. 리포트 구조

### 전체 흐름

```
1. 📋 공고 정보
   - 기초금액, 발주처투찰률

2. 🎲 몬테카를로 시뮬레이션
   - 예정가 분포 (86.2~89.3%)
   - 대수의 법칙으로 중앙 수렴

3. 📊 과거 1위 분석
   - 1위 분포 참고 (중앙값 87.843%)
   - ⚠️ 1위 많은 곳 ≠ 최적

4. 🔥 경쟁 밀도 분석 (핵심!)
   - 0.05% 구간별 경쟁자 수
   - 회피 구간 (358명) vs 안전 구간 (44명)
   - 1위 확률 = 1 / (경쟁자+1)

5. 🔢 소수점/끝자리 패턴
   - 차별화 포인트
   - 000, 500 회피

6. 🛡️ 하한가 미달 분석
   - 미달 46.2% (무시)
   - 미달 = 리스크 아님

7. 📈 사정율-투찰율 상관관계
   - 상관계수 0.73
   - 사정률 1% ↑ → 투찰률 0.65% ↑

8. 🎯 최적 입찰률 3개
   - 기대값 최적 (균형)
   - 경쟁 회피 (1위 확률 최대)
   - 이익 최대 (수익 우선)
```

---

## 2. 섹션별 해석 방법

### 2.1. 공고 정보

```markdown
## 📋 공고 정보

- **기초금액:** 39,000,000원
- **발주처투찰률:** 87.745%
```

**해석**:
- 기초금액 = 입찰의 기준점
- 발주처투찰률 = 예정가격 기준 최소 낙찰률
- **중요**: 기초금액 기준이 아님!

### 2.2. 몬테카를로 시뮬레이션

```markdown
## 🎲 몬테카를로 시뮬레이션

- **예정가격 평균:** 38,996,871원 (기초 × 100.0%)
- **예정가격 범위:** 38,280,000 ~ 39,720,000원 (±1.8%)
- **낙찰하한가 평균:** 34,217,805원 (기초 × 87.745%)
- **낙찰하한가 범위:** 33,580,000 ~ 34,860,000원
- **기초대비 낙찰하한율 범위:** 86.2% ~ 89.3%

**💡 해석:**
예정가격 무작위성으로 인해 기초대비 86.2~89.3% 어디든 낙찰 가능.
대수의 법칙으로 중앙(87.745%) 근처 형성 확률 높음.
```

**해석 포인트**:
- 예정가 무작위 → 낙찰하한가도 무작위
- 86.2~89.3% = 실제 낙찰 가능 범위
- 중앙 87.745% 형성 확률 가장 높음

### 2.3. 과거 1위 분석

```markdown
## 📊 과거 1위 분석

- **분석 데이터:** 112개
- **평균:** 87.851%
- **중앙값:** 87.843%
- **표준편차:** 0.505%
- **범위:** 86.764% ~ 89.672%

**백분위수:**
- 25%: 87.433%
- 50%: 87.843%
- 75%: 88.206%

**💡 해석:**
1위의 67.9%가 중앙값 ±0.5% 범위에 몰려있음.
BUT 중앙값 근처 = 경쟁 최고 밀집!
→ "1위 분포 ≠ 최적 전략"
```

**해석 포인트**:
- 1위가 많은 곳 = 경쟁도 많은 곳
- 중앙값 87.843% ≠ 추천 입찰률
- 참고용으로만 사용

### 2.4. 경쟁 밀도 분석 (핵심!)

```markdown
## 🔥 경쟁 밀도 분석 (핵심!)

### ⚠️ 절대 회피 구간 (고밀도)

**최고 밀집:** 87.95~88.00% (358명)

**회피 구간 Top 5:**
1. 87.95~88.00%: 358명 → 1위 확률 0.28% ❌
2. 88.00~88.05%: 334명 → 1위 확률 0.30%
3. 88.05~88.10%: 295명 → 1위 확률 0.34%
4. 87.85~87.90%: 294명 → 1위 확률 0.34%
5. 87.90~87.95%: 282명 → 1위 확률 0.35%

### ✅ 안전 구간 (저경쟁)

**안전 구간 Top 5:**
1. 87.05~87.10%: 44명 → 1위 확률 2.27% ✅ (8배!)
2. 87.10~87.15%: 58명 → 1위 확률 1.72%
3. 86.95~87.00%: 61명 → 1위 확률 1.64%
4. 87.00~87.05%: 63명 → 1위 확률 1.59%
5. 88.70~88.75%: 67명 → 1위 확률 1.49%

**💡 해석:**
경쟁자 44명 vs 358명 = 1위 확률 8배 차이!
안전 구간 선택 시 충돌 위험 최소화.
```

**해석 포인트**:
- **1위 확률 = 1 / (경쟁자 + 1)**
- 44명: 1/45 = 2.27%
- 358명: 1/359 = 0.28%
- 경쟁 밀도 낮을수록 1위 확률 기하급수적 증가

### 2.5. 소수점/끝자리 패턴

```markdown
## 🔢 소수점 패턴

**회피할 숫자 (빈도 높음):**
- 9: 808개 (87.849%, 87.859%...)
- 8: 800개
- 5: 769개 (87.845%, 87.855%...)

**안전한 숫자 (빈도 낮음):**
- 1: 633개
- 7: 669개
- 6: 669개

**💡 해석:**
소수점 3자리만 바꿔도 충돌 확률 3배 차이.

## 끝자리 선호도

**회피할 끝자리:**
- 610원: 127개
- 000원: 96개 ← 직관적 숫자 회피!
- 500원: 85개

**안전한 끝자리:**
- 069원: 3개
- 399원: 6개
- 899원: 7개

**💡 해석:**
000, 500 같은 직관적 숫자는 50% 이상 사용.
절대 회피!
```

**해석 포인트**:
- 차별화 전략
- 직관적 숫자 (0, 5) 회피
- 홀수 끝자리 선호

### 2.6. 하한가 미달 분석

```markdown
## 🛡️ 하한가 미달 분석

- **전체 데이터:** 7,175개
- **하한가 미달:** 3,312개 (46.2%)
- **1위:** 112개 (1.56%)

**미달 업체 투찰률:**
- 평균: 87.572%
- 중앙값: 87.559%
- 최대: 89.000% ← 이것도 미달!

**💡 해석:**
미달 46.2% vs 1위 1.56% (30배 차이)
BUT 미달 = 리스크 아님 (다음 기회)
→ 1위 확률만 최대화!
```

**해석 포인트**:
- 미달 확률 무시
- 89%로 입찰해도 미달 가능
- 예정가 형성 결과에 따라 결정됨
- **1위 확률만 중요**

### 2.7. 사정율-투찰율 상관관계

```markdown
## 📈 사정율-투찰율 상관관계

- **상관계수:** 0.73 (강한 양의 상관)
- **선형 회귀:** 투찰률 = 사정률 × 0.65 + 22.3

**예측:**
- 사정률 100% → 투찰률 87.3%
- 사정률 101% → 투찰률 87.95%

**💡 해석:**
사정률 1% 높으면 투찰률 0.65% 높음.
업체들이 사정률 보고 조정하는 경향.
```

**해석 포인트**:
- 기초대비사정률 & 투찰률 = 같은 스케일 (100분율)
- 항상 함께 표시
- 상관관계로 업체 심리 파악

### 2.8. 최적 입찰률 3개

```markdown
## 🎯 최적 입찰률 3개

| 순위 | 전략명 | 입찰률 | 입찰금액 | 경쟁자 | 1위 확률 | 이익률 |
|:----:|--------|-------:|---------:|-------:|---------:|-------:|
| 1 | 기대값 최적 | 87.523% | 34,134,000원 | 196명 | 0.51% | 12.48% |
| 2 | 경쟁 회피 | 87.089% | 33,965,000원 | 44명 | 2.27% | 12.91% |
| 3 | 이익 최대 | 87.089% | 33,965,000원 | 44명 | 2.27% | 12.91% |

### 전략별 상세

#### 1. 기대값 최적
- **추천 이유:** 예정가 형성 확률 × 1위 확률 × 이익률 총합 최대
- **장점:** 균형잡힌 선택
- **단점:** 경쟁자 196명 (중간)

#### 2. 경쟁 회피
- **추천 이유:** 경쟁 밀도 최소 (44명)
- **장점:** 1위 확률 2.27% (4.5배!) ✅
- **단점:** 예정가 낮게 형성되어야 함

#### 3. 이익 최대
- **추천 이유:** 투찰률 가장 낮음
- **결과:** 경쟁 회피와 동일

**💡 최종 추천:**
경쟁 회피 전략 (87.089%)
- 경쟁자 44명 (최소)
- 1위 확률 2.27% (최대)
- 이익률 12.91% (최고)
```

**해석 포인트**:
- **1위 확률 비교가 핵심**
- 경쟁자 수 → 1위 확률 직접 계산
- 미달 확률 표시 안 함 (무의미)
- 기대값 vs 경쟁 회피 trade-off

---

## 3. 리포트 생성 코드 (의사 코드)

```python
def generate_report(analysis_json):
    """
    JSON 분석 결과 → 한글 리포트

    핵심:
    - 1위 확률 = 1 / (경쟁자 + 1)
    - 미달 확률 무시
    - 기초대비사정률-투찰률 동시 표시
    """
    report = []

    # 1. 공고 정보
    report.append(f"기초금액: {analysis['base_amount']:,}원")
    report.append(f"발주처투찰률: {analysis['agency_rate']}%")

    # 2. 몬테카를로
    mc = analysis['phase1_monte_carlo']
    report.append(f"예정가 범위: {mc['min']}~{mc['max']}%")

    # 3. 과거 1위
    past = analysis['phase2_past_winners']
    report.append(f"1위 중앙값: {past['median']}%")
    report.append("⚠️ 1위 많은 곳 ≠ 최적")

    # 4. 경쟁 밀도 (핵심!)
    density = analysis['phase3_density_heatmap']
    for bin, count in sorted(density.items(), key=lambda x: x[1], reverse=True)[:5]:
        p_win = 1 / (count + 1) * 100
        report.append(f"{bin}: {count}명 → 1위 확률 {p_win:.2f}%")

    # 5. 미달
    below = analysis['phase6_below_minimum']
    report.append(f"미달 {below['rate']:.1f}% (무시)")

    # 6. 사정율-투찰율
    corr = analysis['phase7_correlation']
    report.append(f"상관계수: {corr['correlation']:.2f}")

    # 7. 최적 입찰률
    opt = analysis['phase9_optimization']
    for i, strategy in enumerate(['optimal_1', 'optimal_2', 'optimal_3'], 1):
        s = opt[strategy]
        p_win = 1 / (s['competitors'] + 1) * 100
        report.append(f"{i}. {s['name']}")
        report.append(f"   입찰률: {s['rate']}%")
        report.append(f"   경쟁자: {s['competitors']}명")
        report.append(f"   1위 확률: {p_win:.2f}%")

    return "\n".join(report)
```

---

## 4. 핵심 메시지 (강조 사항)

### 리포트에 반드시 포함할 내용

```markdown
## 💡 핵심 원칙

1. **1위 아니면 의미 없음**
   - 2위 = 미달 = 0원
   - 평균가(안전지대) = 안전하게 탈락

2. **미달 = 리스크 아님**
   - 미달 46.2% vs 1위 1.56%
   - 실패하면 다음 기회
   - 1위 확률만 최대화

3. **경쟁 밀도 역수 = 1위 확률**
   - 44명: 1/45 = 2.27%
   - 358명: 1/359 = 0.28%
   - 8배 차이!

4. **군중 피하기**
   - 최적해를 모두가 찾으면 → 최악
   - 무질서 속에 기회
   - 경쟁 밀도 200명 이하
```

### 회피 사항 체크리스트

```markdown
## ⚠️ 핵심 회피 사항

- [ ] 87.95~88.00% (358명) 절대 회피
- [ ] 소수점 9, 8, 5 회피
- [ ] 끝자리 000, 500 회피
- [ ] 경쟁 밀도 200명 이상 회피
- [ ] 1위 중앙값 근처 회피 (경쟁 최고)
```

---

## 5. 참고 문서

**필수 참조 순서:**
1. `/mnt/a/25/.claude/skills/core/SKILL.md` - 철학
2. `/mnt/a/25/.claude/skills/logic/SKILL.md` - 알고리즘
3. `/mnt/a/25/CLAUDE.md` - 프로젝트 가이드

**Last Updated:** 2025-10-26
**Philosophy:** 1위 확률 중심 해석
